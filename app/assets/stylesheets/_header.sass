$header-font-size: 0.875rem
$header-item-padding: 0.75rem 1rem 0.625rem
$header-item-line-height: 19px

header.main-header
  align-items: center
  background: linear-gradient(to bottom, #5194d0, #2c75b5)
  display: flex
  font-size: $header-font-size
  height: 57px
  justify-content: space-between

  li.nav-item
    margin-left: 0.5rem

    &:last-child
      margin-right: 1rem

  .logo
    display: block
    padding-top: 0
    padding-bottom: 0

  .user-settings
    display: flex
    flex-direction: row
    flex-wrap: wrap
    list-style: none
    margin: 0
    padding: 0

  .logo
    align-items: center
    display: flex
    padding: 0 1rem

  // Links and buttons in the main navbar.
  .nav-link
    background: none
    border: none
    color: rgba(255, 255, 255, 0.8)
    cursor: pointer
    display: block
    font-size: 0.875rem
    font-weight: 500
    line-height: 20px
    padding: 0.35rem 0.5rem
    &:hover
      color: rgba(255, 255, 255, 0.9)
      text-decoration: none
    &:focus:not(:focus-visible)
      outline: 0

  .survey-item button
    align-items: center
    color: #ffefb2
    display: inline-flex
    &:hover
      color: #ffefb2
    svg
      display: inline-block
      margin-right: 0.125rem

  // Special styles for the rounded pills used for "My Scenarios" and "My Account"
  .my-scenarios
    padding-right: 0
    a
      border-top-left-radius: 50rem
      border-bottom-left-radius: 50rem
  .my-account
    margin-left: 1px !important
    padding-left: 0
    button
      border-top-right-radius: 50rem
      border-bottom-right-radius: 50rem
  .sign-in a
    border-radius: 50rem

  .my-scenarios a, .my-account button, .sign-in a
    background: rgba(255, 255, 255, 0.1)
    padding: 0.35rem 0.9rem
    margin: 0
    &:hover
      background: rgba(255, 255, 255, 0.15)

  .logo, .locale, .my-scenarios, .my-account, .sign-in
    &:hover
      color: white
      text-decoration: none

    &:focus:not(:focus-visible)
      outline: 0

    &.locale
      font-weight: normal

      .fa
        vertical-align: middle
        margin: -4px 1px 0 0

  .logo
    padding-left: 1rem
    padding-right: 1rem

  .locale, .my-account
    height: 100%

  .user-settings .dropdown-menu img
    margin: -4px 0 0
    vertical-align: middle

  .dropdown-item
    color: #444
    min-width: 9rem

  .fa
    font-size: 16px

// Scenario Sub-Nav
//
// This gray bar sits below the main header, with information about the active scenario and options
// for saving the scenario.

#scenario-nav
  background: #eee
  border-bottom: 1px solid #ccc
  display: flex
  font-size: $header-font-size
  justify-content: space-between
  max-height: 42px
  width: 100%

  .scenario-info, .save-scenario, .save-scenario-as, .scenario-actions, .sign-in-to-save
    background: transparent
    color: #444
    font-size: 0.875rem
    line-height: $header-item-line-height
    margin: 0
    padding: $header-item-padding

  .scenario-info
    .region
      color: black
      font-weight: bold
    .year
      color: black
    .region-flag
      background-position: 0 1px
    .name
      color: #666
      display: inline-block
      max-width: 500px
      overflow: hidden
      text-overflow: ellipsis
      vertical-align: top
      white-space: nowrap
    .name:before
      content: "â€“ "
  .dropdown
    display: inline-block
    position: relative
  .save-scenario, .save-scenario-as, .scenario-actions, .sign-in-to-save
    border: none
    border-left: 1px solid #ccc
    box-sizing: content-box
    color: #444
    display: inline-block
    text-align: center
    transition: background 0.15s ease-in-out
    &.active, &.active:hover
      background: #ddd
    &:hover
      background: #f9f9f9
      cursor: pointer
      text-decoration: none
    &:focus:not(:focus-visible)
      outline: 0
    &:disabled, .disabled
      color: #999
      pointer-events: none
      &:hover
        background: none
        cursor: default
  .scenario-actions .fa
    margin-left: 0.25rem
  .dropdown-item
    color: #444
    min-width: 11rem

  // "Saving..." and "Saved" labels in the "Save Scenario" button
  .save-scenario
    position: relative
    .label
      opacity: 0
      transition: opacity 0.25s ease-in-out
      will-change: opacity
    .saved
      color: #35a047
      left: 50%
      margin-left: -50px
      position: absolute
      top: 12px
      width: 100px
    .label.show, .saved.show
      opacity: 1

// Header drop-down menus. Inspired by Bootstrap.

.dropdown
  position: relative

.dropdown-menu
  background: white
  border-bottom-color: rgba(0, 0, 0, 0.2)
  border-radius: 4px
  box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.15), 0 0.5rem 1rem rgba(0,0,0, 0.1)
  display: block
  left: 0.5em
  list-style: none
  margin: 0
  opacity: 0
  padding: 0.5rem 0
  pointer-events: none
  position: absolute
  top: 2.5rem
  transform: scale(0.9) translateY(-10px)
  transition: opacity 0.1s ease-in-out, transform 0.1s ease-in-out
  will-change: opacity, transform
  z-index: 100

  &:before
    background: white
    border-radius: 2px
    box-shadow: -1px -1px 0 0 rgba(0, 0, 0, 0.15)
    content: " "
    height: 0.625rem
    left: 0.625rem
    position: absolute
    top: -0.3125rem
    transform: rotate(45deg)
    width: 0.625rem

  &.show
    display: block
    opacity: 1
    pointer-events: auto
    transform: scale(1) translateY(0px)

  li
    margin: 0
    padding: 0

  // Items which will have a divider above them.
  li.sep-above
    border-top: 1px solid rgba(0, 0, 0, 0.15)
    margin-top: 0.5rem
    padding-top: 0.5rem

  .dropdown-content
    padding: 0.5rem 1rem

.dropdown-menu-right
  left: auto
  right: 1rem
  &:before
    left: auto
    right: 0.5rem

.dropdown-item
  color: black
  display: block
  padding: 0.25rem 1rem
  white-space: nowrap
  &:hover
    background-color: #4287c4
    color: white !important
    cursor: pointer
    text-decoration: none
  &[disabled], .disabled
    opacity: 0.5
    pointer-events: none

button.dropdown-item
  background: none
  border: none
  line-height: inherit
  text-align: left
  width: 100%
  &:focus:not(:focus-visible)
    outline: none

.feedback-menu
  padding: 0
  width: 22rem
  form
    position: relative
    .success
      box-sizing: border-box
      color: #46a541
      display: none
      height: 8rem
      left: 0
      padding: 0.875rem;
      position: absolute
      text-align: center
      top: 1rem
      width: 100%
      .fa
        font-size: 48px
      .msg
        font-size: 0.876rem
        padding-top: 0.5rem
      strong
        display: block
        font-size: 1rem
        font-weight: 600

  input.do-not-fill
    display: none
  textarea, .commit
    box-sizing: border-box
    padding: 0.875rem
    width: 100%
  textarea
    border: none
    border-bottom-left-radius: 0
    border-bottom-right-radius: 0
    line-height: 1.4
    min-width: 20rem
    min-height: 10rem
    resize: none
    &:focus
      box-shadow: none
    &[disabled]
      background: none
  .commit
    background: #f5f5f5
    border-top: 1px solid #ddd
    border-radius: 0 0 4px 4px
    .buttons
      align-content: center
      display: flex
      justify-content: space-between
    button
      font-size: 0.8125rem
      padding: 7px 10px 6px
      &.primary
        box-sizing: border-box
        font-weight: 500
        &.loading
          .spinner
            display: inline-block
          .text
            display: none
          &[disabled]
            opacity: 1
    .spinner
      background: image-url("icons/primary-button-loader.gif") center left no-repeat;
      display: none
      margin-top: -1px
      min-height: 6px
      vertical-align: middle
      width: 22px;
    .docs, .failure
      font-size: 0.75rem
      line-height: 1.4
    .docs
      color: #555
      margin-top: 0.75rem
      a
        white-space: nowrap
    .failure
      color: #a71919
      display: none
      margin-bottom: 0.7rem
      a
        color: #a71919
        text-decoration: underline

