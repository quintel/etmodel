.chart_holder{:data => {:holder_id => dom_id}}
  %h3= raw t("output_elements.#{chart.key}")
  .output_element_actions
    %a.chart_info.tooltip.fancybox{:href  => "/descriptions/charts/#{chart.id}",
      :title => "info"} ?

    %a.select_chart.tooltip{:href => "/output_elements?holder=#{dom_id}",
      :title => t("output_elements.common.change_chart")}
      = t "output_elements.common.change_chart"

    - if main # secondary chart doesn't need this
      %a.default_charts.tooltip{:href => "#",
        :title => t("output_elements.common.back_to_default")}
        = t "output_elements.common.back_to_default"

    %a.table_format.tooltip{:href => '#',
      :title => t("output_elements.common.table")}
      = t "output_elements.common.table"

    %a.chart_format.tooltip{:href => '#',
      :title => t("output_elements.common.chart")}
      = t "output_elements.common.chart"

    %a.pin_chart.tooltip{:href => '#',
      :title => t("output_elements.common.pin"),
      :class => chart.id == Current.setting.send(dom_id) && 'active'}
      = t "output_elements.common.pin"
  .charts_container
    .chart_not_finished
    .chart_canvas{:id => dom_id}
  - if chart
    :javascript
      charts.load(#{chart.id}, "#{dom_id}")
