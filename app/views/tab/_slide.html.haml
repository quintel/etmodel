- selected = 'selected' if @slides.first == slide
%li.accordion_element{:class => selected}
  %span.headline{:id => "default_output_#{slide.output_element_id}", :data => {:slide => slide.short_name}}
    %a.slide_header{:href => "/#{controller_name}/#{params[:id]}##{slide.short_name}", :id => slide.key}
      = raw t("slides.#{slide.key}")
  .slide
    %p
      = image_tag(slide.image_path) if slide.image.present?
      = raw slide.description.try(:content)
      - if slide.house_selection
        = link_to t("accordion.help me choose"), house_selection_tool_path, :class => 'house_selection_tool'
    %ul.valuees
      - unless slide.general_sub_header.blank?
        %div.sub_header{:id => "sub_header_#{slide.id}"}
          %span.subheader_arrow= t("subheaders.#{slide.general_sub_header}")
          - unless slide.subheader_image.blank?
            %img.subheader_image{:src => "/images/layout/#{slide.subheader_image}"}
      - slide.input_elements_not_belonging_to_a_group.each do |input_element|
        = render :partial => 'input_elements/slider', :object => input_element
      - slide.grouped_input_elements.each do |group, sliders|
        - title = slide.group_sub_header
        %div.interface_group
          %span{:style =>"float:left"}= t("accordion.#{group}")
          - unless title.blank?
            %span.subheader_arrow= t("subheaders.#{title}")
        - sliders.each do |input_element|
          = render :partial => 'input_elements/slider', :object => input_element

    - unless @slides.last == slide
      %a.btn-done.next{:href => '#'}= I18n.t("go to next")

%script
  - slide.safe_input_elements.each do |i|
    window.input_elements.add(#{i.to_json.html_safe}.input_element);
